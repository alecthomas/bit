myprog: *.o
  build: cc -o %{OUT} %{IN}

#implicit @.o: @.c
#  inputs: %(cc -MM @.c | cut -d: -f2-)%
#  build: cc -c -o @.o @.c

a.o: %(cc -MM a.c | cut -d: -f2-)%
  build: cc -c -o %{OUT} a.c

b.o: %(cc -MM b.c | cut -d: -f2-)%
  build: cc -c -o %{OUT} %{IN}
  hash: echo hash
